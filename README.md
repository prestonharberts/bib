<h1 align="center">> <i>bib</i></h1>

<p align="center">
   <b>a CLI Bible reference tool</b>
</p>

`bib` is a commandline program that quickly prints Bible verses to the Linux terminal using Bash combined with markdown files for the Bible generated by my [BibleGateway-to-Obsidian script](https://github.com/prestonharberts/biblegateway-to-obsidian).

> ðŸŒŸ **This project includes the NET translation** ðŸŒŸ This is possible thanks to the [NET translation team's generous copyright](https://netbible.com/copyright/) which permits free redistribution. If you'd like to use a different translation, see the [Other Translations](docs/other-translations.md) page. Translation support may vary since this program depends on BibleGateway-to-Obsidian.

<b>Table of Contents</b>

- [Features](#features)
- [Setup](#setup)
- [Usage](#usage)
- [User config](#user-config)
- [Other features](#other-features)
  - [Printing multiple verses](#printing-multiple-verses)
  - [Searching with bibs](#searching-with-bibs)
  - [Random verses with bibr](#random-verses-with-bibr)
  - [Copying chapters with bibc](#copying-chapters-with-bibc)
  - [Scaling demonstration](#scaling-demonstration)
- [Todo](#todo)

For more info on other topics, visit these pages:

- [Other translations](docs/other-translations.md)
- [Termux (Android)](docs/termux-android.md)

## Features

- Verse-by-verse format  
- Requested verses in red  
- Editorial headings
- New paragraphs begin with an arrow  
- Supports viewing multiple verses at once
- Common book abbreviations supported  
- An interactive mode that lets you enter chapters and verses directly without typing `bib` each time  
- Italicized words depending on the translation (displayed in brackets)
- Hyphenate words that are too long for the terminal window
- Automatically scale output with the terminal size
- `bibs` ([by w1ldrabb1t](https://github.com/w1ldrabb1t)) searches words and phrases then prints the results with bib. See [Searching with bibs](#searching-with-bibs).  
- `bibr` ([by w1ldrabb1t](https://github.com/w1ldrabb1t)) randomly prints a Bible verse using bib. See [Random verses with bibr](#random-verses-with-bibr).  
- `bibc` copies chapters of the Bible to the clipboard

## Setup

This program should go into your PATH so that it can be ran anywhere. I made a folder `Bin` in my user directory, moved bib to it, and added this line to `~/.bashrc`:

```bash
export PATH=/home/$USER/Bin/:$PATH
```

As long as you move it to a folder in PATH, it will be fine. You do not have to use the folder I used above.

Next, give execution privileges to bib. Using my folder as an example:

```bash
chmod u+x ~/Bin/bib
```

Finally, move the included folder `Bible` to the same PATH folder you moved bib to. More instructions on using other translations can be found in [Other Translations](docs/other-translations.md).

## Usage

<p align=center><img src="https://github.com/user-attachments/assets/d4323219-5edd-454a-9e71-02f65fa8fb0c" width="800"></p>

Here are examples of running the program. Requested verses appear in red to stand out (see the screenshot above):

```bash
# Genesis 1
bib gen1

# Genesis 1:1 (and context verses Genesis 1:2 and 1:3)
bib gen1 1

# Genesis 1:1 (no context verses)
bib gen1 1 -n

# Genesis 1:3-4 (and context verses Genesis 1:2, 1:3, 1:5, 1:6)
bib gen1 3 4

# Genesis 1:3-4 (no context verses)
bib gen1 3 4 -n
```

> Both full names and abbreviations of Bible books work in bib. The most common abbreviations from [this list from Logos](https://www.logos.com/bible-book-abbreviations) are supported. To see all abbreviations supported by this script, run `bib -a`

Any of the following formats work as well, thanks to flexible input handling. Capitalization does not matter:

```bash
bib 1cor13 4 7
bib 1cor13 4-7
bib 1cor13:4 7
bib 1cor13:4-7
bib 1 cor 13 4 7
bib 1 cor 13 4-7
bib 1 cor 13:4 7
bib 1 cor 13:4-7
bib 1 Corinthians 13:4-7
bib 1st Corinthians 13:4-7
```

Verses from the same book can also be grouped using commas without repeating the book name (colons and hyphens can still be replaced with spaces here):

```bash
bib matt 2:1, 28:18-20, 1:1-17, 8:5-10, 21:43
```

To open an interactive prompt (similar to Python), just run `bib` by itself. You can enter Bible references without retyping `bib` each time. Command history is supported and saved in `~/.bib_history`.

Commands will be entered like this in the interactive mode:

```bash
# enter into bib interactive mode
bib

# type Bible references
>>> gen1
>>> gen1 1
>>> gen1 1 2
>>> john3 16 -n
```

## User config

Open `bib` in a text editor to adjust several options at the top, including:

- The character used to indicate a new paragraph
- Whether context verses are shown by default
  - If enabled, use `-n` to hide context
  - If disabled, use `-c` to show context
- Whether to display output with `less` or `cat`

## Other features

### Printing multiple verses

Multiple verses can be entered in a single line, and each will print one by one. Use `-n` or `-c` after individual verses to hide or show context for that verse, or use `-N` or `-C` to hide or show context for all verses in the current command.

This feature works in both interactive and non-interactive modes. The only limitation is that books with numbers (e.g., 1 Cor.) must not have a space between the number and the book name. Colons and hyphens can still be replaced with spaces here:

```bash
>>> phil 4:13 1john4:18-19 heb12:7

# hide context verses for only phil4 13
>>> phil4:13 -n 1john4 18 19 heb12 7

# hide all context verses for all selected verses
>>> -N phil 4:13 1john4:18-19 heb12:7 -N
>>> phil 4:13 1john4:18-19 heb12:7 -N
```

### Searching with bibs

<p align=center><img src="https://github.com/user-attachments/assets/cf03e2f0-eb82-4daa-8f4c-2ac5e6bd09a0" width="450"></p>

The included script `bibs` by [w1ldrabb1t](https://github.com/w1ldrabb1t) lets you search for a word or phrase in the Bible, printing each result one at a time using bib. For multiple-word phrases, wrap them in quotation marks.

To use, put bibs in the same directory as bib and the Bible folder, ideally in your PATH (see [Setup](#setup)).

### Random verses with bibr

<p align=center><img src="https://github.com/user-attachments/assets/c2765797-9e9e-43ed-8412-f58865dde872" width="450"></p>

The included script `bibr` by [w1ldrabb1t](https://github.com/w1ldrabb1t) randomly prints a Bible verse to your terminal using bib. It works by finding the last verse in the file, generating a number between 1 and that verse, and then calling bib.

To use, put bibr in the same directory as bib and the Bible folder, ideally in your PATH (see [Setup](#setup)).

Use `-n` to hide context verses for a single verse, or `-N` to hide context for all verses when selecting multiple in one line. You can also use `-v` to enable verbose mode, which displays the bib command being executed.

A cool way to run this script and a fun way to find any [Issues](https://github.com/prestonharberts/bib/issues) is to run this:

```bash
for i in {1..1000}; do bibr; done
```

### Copying chapters with bibc

<p align=center><img src="https://github.com/user-attachments/assets/180d111b-c2d2-4bcd-8813-116f6625074c" width="450"></p>

This repo also includes `bibc`, a program that copies entire chapters, reformats them, and makes them easy to paste into [Monkeytype](https://monkeytype.com/). The copied text is kept very basic and looks as it does in the above screenshot

Copying selected verses with bib isn't supported yet, but you can do it like this if you remove the color codes added by the script. Be sure to install `xclip`:


```bash
bib john3 16|xclip -sel clipboard
```

I recommend just running bib multiple times in a row similar to this, and then just copying the output from the terminal with your cursor.

### Scaling demonstration

<p align=center><img src="https://github.com/user-attachments/assets/52da7b37-f75b-4403-8c74-4ef9bb9ebf2b" width="800"></p>

One features of this program I spent considerable time refining is automatically hyphenating words that run off the screen. This creates an almost justified text alignment, allowing the text body to scale cleanly across different terminal widths (even extremely small terminals). It handles many edge cases I carefully covered with regex. For example, if character 80 on an 80-width terminal is `)` followed by a comma, the program hyphenates the preceding word to maintain alignment. Below are examples of how Bib looks on different terminal sizes.

## Todo

- [ ] Help menu [(1)](https://www.reddit.com/r/bash/comments/1j7qfl3/comment/mh3k4wv/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [ ] Build bibs, bibr, and bibc into bib
- [ ] Support for other languages [(1)](https://www.reddit.com/r/commandline/comments/1j7qew9/comment/mh39p9b/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [ ] Bookmark chapters and verses [(1)](https://www.reddit.com/r/commandline/comments/1j7qew9/comment/mh67ax6/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [ ] Switch from markdown to XML [(1)](https://www.reddit.com/r/bash/comments/1j7qfl3/comment/mh44sjb/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [x] Abbreviations list [(1)](https://www.reddit.com/r/bash/comments/1j7qfl3/comment/mh3k4wv/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [x] Add instructions if `Bin` path is different [(1)](https://www.reddit.com/r/bash/comments/1j7qfl3/comment/mh0m7pw/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [x] Symbolic link to script [(1)](https://www.reddit.com/r/commandline/comments/1j7qew9/comment/mh2lwgk/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
- [x] Type `bib` to enter a console so you don't have to type bib for every verse you want
- [x] Allow console mode to take options
- [x] Finish writing Termux setup guide
